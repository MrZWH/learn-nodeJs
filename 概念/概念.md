# 概念

## 框架设计和工程化

怎么把你的 Node.js 变得更加易于维护，更加容易扩大到全部的业务线去使用。

- 做出一个 Node.js 业务并不难
  - 写 demo
  - 在一个小业务尝试上线
- 把 Node.js 推广到所有业务线，让其享受到Nodejs带来的红利？
  - 人员培训，对服务器、运维、RPC通信一窍不通，
  - 业务管理，业务上线后有更多的难题，错误处理、机器负载太高扛不住请求量要扩容、发生细小的业务错误怎么样查日志、Nodejs本身进程就不稳经常搞坏业务程序
- 为了建成大厦，我们需要更好的
  - 架构设计
    - 底层更稳固 —— 程序不容易崩溃
    - 更容易往上搭 —— 扩展新功能更方便
  - 工程工具
    - 更加易于施工 —— 学习上手成本低
    - 保证施工安全 —— 不会因为操作失误搞挂程序
  - 给工程师使用的产品
    - 开发体验（软件质量体系
      - 可维护性
      - 可靠性
      - 易用性
      - ……
    - KISS 原则（让你的产品尽可能简单化傻瓜化）

## 设计模式

设计可重用软件的准则。

单例模式、原型模式、工厂模式、抽象工厂模式、建造者模式、代理模式、适配器模式、桥接模式、装饰器模式、外观模式、享元模式、组合模式、模板方法模式、策略模式、命令模式、职责链模式、状态模式、观察者模式、中介者模式、迭代器模式、访问者模式、备忘录模式、解释器模式。

最容易套入 JavaScript 中的：

- 观察者模式
- 外观模式

### 观察者模式

- EventEmitter
- DOM addEventListener

观察者模式解决的是：对象与对象间通信的问题

### 外观模式

- jQuery

### 设计模式六大法则

- 单一职责原则
  - 每一个模块都专注于自己的职责
- 里氏替换原则
- 依赖倒转原则
- 接口隔离
- 最小知晓原则
- 开闭原则
  - 对扩展开放对修改关闭

## Serverless

- 云函数
  - 不用再因为运维、架构的事情操心
    - 缩短业务上线周期
    - 减少出错的概率
    - 业务开发上手难度耕地
  - 渐进式
    - 刚上手时，不需要感知服务器的存在
- serverless —— 屏蔽服务器细节
- vue/react —— domless
  - 屏蔽 DOM 操作的细节
- jQuery —— compatless
  - 屏蔽浏览器兼容细节
    - 缩短代码编写周期
    - 减少出错可能性
    - 前端开发上手难度更低
- Node.js —— threadless 平时写服务端程序为了加强性能都要写一大推进程来利用服务器的多核，而nodejs通过事件循环libuv底层就帮你管理线程然后你只需要会写JavaScript你就能写出高性能的使用多线程的服务端程序。
- JavaScript —— typeless
- Java/C# —— 内存管理less
- 可视化开发 —— 编程less
- ……
- 通过屏蔽细节（less），让业务开发更容易。
- 把能再多个业务复用的东西下沉，屏蔽细节。
- 好的框架
  - 把复杂的、通用的东西下沉（less化），最终实现 渐进式
- 我们要做的事情
  - Node.js BFF 层应用到大部分的业务
    - 快速扩展 Node.js 业务页面
    - 新人能不理会底层细节快速上手
